from flask import Flask, request
import logging

# библиотека, которая нам понадобится для работы с JSON
import json

data = {
  "history": {
    "0": "839, 18 мая — Посольство кагана русов в Ингельгейм ко двору императора франков Людовика I Благочестивого.\n",
    "1": "840 — Нападение русов на Амастриду, главный город византийской Пафлагонии. Князь Бравлин и его дружина.\n",
    "2": "Позднее 840 — Сообщение арабского географа Ибн Хордадбеха о торговых путях купцов-русов к Чёрному морю, на Каспий и в Багдад.\n",
    "3": "844, 2 октября — Нападение кораблей «ал-Маджус ар-Рус» на Севилью. Русы берут город штурмом, убивают и захватывают в рабство множество жителей, городские стены разрушены[13].\n",
    "4": "859 — Первое летописное упоминание Новгорода. Сообщение «Повести временных лет» о варяжской и хазарской данях, взимавшихся с восточнославянских и финно-угорских племён.\n",
    "5": "860 — Неудачный поход русов на Константинополь, после которого «стала прозываться Русская земля».\n",
    "6": "862 — Начало правления князя Рюрика[14]. Согласно «Повести временных лет», посольство чуди, веси, ильменских словен и кривичей отправилось в землю варяжскую, чтобы найти князя, который мог бы положить конец междоусобицам.\n",
    "7": "862 — первой столицей Киевской Руси становится Ладога.\n",
    "8": "862—879 — Правление князя Рюрика в Новгороде[14].\n",
    "9": "863 — Кирилл и Мефодий создают славянскую письменность — кириллицу.\n",
    "10": "864 — Умерли братья Рюрика Синеус и Трувор, после чего он стал единовластным правителем севера Руси. Начало княжения Аскольда и Дира в Киеве.\n",
    "11": "879 — Умер Рюрик[14]. Новгородским князем становится воевода Рюрика Вещий Олег.\n",
    "12": "879—912 — Правление князя Вещего Олега в Новгороде.\n",
    "13": "882 — Поход князя Олега из Новгорода на Киев. Киев становится столицей древнерусского государства. Убийство киевских князей Аскольда и Дира.\n",
    "14": "882—912 — Правление князя Вещего Олега в Киевской Руси[15].\n",
    "15": "883 — Подчинение древлян князю Вещему Олегу[15].\n",
    "16": "884 — Подчинение северян князю Вещему Олегу[15].\n",
    "17": "885 — Подчинение радимичей князю Вещему Олегу[15].\n",
    "18": "911 — Основание герцогства Нормандского.\n",
    "19": "930 — Взятие Мекки карматами. Осквернение Каабы.\n",
    "20": "962 — Оттон I коронован в Риме императором Священной Римской империи (существовала до 1806)\n",
    "21": "966 — Крещение польского князя Мешко. Распространение католицизма в Польше.\n",
    "22": "986 — Основание норвежской колонии в Гренландии.\n",
    "23": "907 — Поход Олега на Константинополь.\n",
    "24": "911 — Заключение русско-византийского мирного договора.\n",
    "25": "912 — Киевским князем становится Игорь Рюрикович.\n",
    "26": "913 — Каспийский поход русов на Гилян, Дейлем, Табаристан, Абаскун.\n",
    "27": "914 — Поход князя Игоря на ятвягов\n",
    "28": "915 — первое нападение печенегов на Русь.\n",
    "29": "920 — Поход князя Игоря на печенегов.\n",
    "30": "941—944 — Русско-византийская война. Заключён новый договор с Византией (944).\n",
    "31": "941 — Неудачный поход войска князя Игоря на Константинополь.\n",
    "32": "944 — Успешный поход объединённого войска русов, печенегов и венгров на Царьград. Заключение русско-византийского договора, менее выгодного чем договоры Олега.\n",
    "33": "944—945 — Набег русов на прикаспийский город Бердаа\n",
    "34": "945 — Князь Игорь убит древлянами в процессе сбора полюдья при попытке вторичного сбора дани.\n",
    "35": "945—964 — Княжение княгини Ольги. Устройство «уроков и погостов», упорядочивание сбора дани.\n",
    "36": "957 — Княгиня Ольга в Константинополе принимает себе новое имя Елена.\n",
    "37": "964—972 — княжение князя Святослава.\n",
    "38": "964—966 — походы князя Святослава на камских болгар, хазар, ясов и касогов.\n",
    "39": "965 — Разгром Хазарского каганата князем Святославом.\n",
    "40": "968—969 — Завоевание Первого Болгарского Царства.\n",
    "41": "970—971 — Война Святослава с Византией.\n",
    "42": "972 — Гибель Святослава от печенегов у Днепровских порогов.\n",
    "43": "972—978 — княжение Ярополка, сына Святослава.\n",
    "44": "975—978 — междоусобица сыновей Святослава Игоревича.\n",
    "45": "978 — Поход Владимира на Полоцк. Владимир убивает полоцкого князя Рогволода и женится на его дочери Рогнеде.\n",
    "46": "978 — Владимир убивает своего брата Ярополка и захватывает власть в Киеве.\n",
    "47": "980 — Учреждение общерусского пантеона языческих богов.\n",
    "48": "983 — Владимир совершает поход на прусское племя ятвягов, побеждает их и устанавливает контроль над их землями.\n",
    "49": "984 — Владимир и его воевода Волчий Хвост нанесли поражение радимичам, которые, будучи еще в IX в. включенными в состав Древнерусского государства, вышли из подчинения. В результате этого похода радимичи были вновь покорены и вынуждены платить дань и «возить повозы».\n",
    "50": "985 — Владимир и его дядя Добрыня с торками ходили в поход на камских болгар. Русские войска захватили много пленных, а с дунайскими болгарами был заключен договор о мире и взаимопомощи.\n",
    "51": "986 — Болгарские войска с помощью русов нанесли византийцам сокрушительное поражение в Болгарии.\n",
    "52": "988 — Крещение Руси.\n",
    "53": "1001 — Проникновение ислама в Индию.\n",
    "54": "1054 — «Великая схизма». Раскол католической и православной церквей.\n",
    "55": "1066 — Нормандское завоевание Англии. Вильгельм Завоеватель.\n",
    "56": "1096—1099 — Первый крестовый поход\n",
    "57": "1015 — Междоусобные войны сыновей Владимира I (до 1019).\n",
    "58": "1019 — Вокняжение Ярослава Мудрого в Киеве (до 1054). В эти годы составлена «Правда Ярослава» — древнейшая часть «Русской Правды».\n",
    "59": "1023 — Борьба Ярослава Мудрого с князем Мстиславом Тмутараканским (до 1026).\n",
    "60": "1030 — Начало строительства Спасо-Преображенского собора в Чернигове (до 1035).\n",
    "61": "1036 — Образование киевской митрополии.\n",
    "62": "1036 — Разгром печенегов под стенами Киева.\n",
    "63": "1037 — Начало строительства Софийского собора в Киеве (до 1041).\n",
    "64": "1040 — Поход Ярослава Мудрого на Литву.\n",
    "65": "1043 — Поход князя Ярослава Мудрого на Византию\n",
    "66": "1054 — смерть Ярослава Мудрого и разделение Руси между его сыновьями. Триумвират Ярославичей.\n",
    "67": "1068 — Битва на Альте. Восстание в Киеве. Вокняжение в Киеве полоцкого князя Всеслава Чародея.1072 — Составлена «Правда Ярославичей», вторая часть «Русской Правды».\n",
    "68": "1072 — Восстания в Новгородской земле и Ростово-Суздальской земле\n",
    "69": "1073 — «Изборник Святослава».\n",
    "70": "1078 — Битва на Нежатиной Ниве между великим князем Изяславом и его братом Всеволодом с одной стороны, и их племянниками Олегом Святославичем и Борисом Вячеславичем с другой. Гибель Изяслава и Бориса Вячеславича; вокняжение в Киеве Всеволода Ярославича.\n",
    "71": "1093 — вокняжение в Киеве Святополка Изяславича(до 1113).\n",
    "72": "1097 — Съезд князей в Любече. Принято правило «Каждый держит отчину свою», закрепившее тенденцию к политической раздробленности Древнерусского государства.\n",
    "73": "1137 — Объединение Каталонии и Арагона.\n",
    "74": "1147—1149 — Второй крестовый поход.\n",
    "75": "1154—1189 — правление в Англии Генриха II из династии Плантагенетов.\n",
    "76": "1189—1192 — Третий крестовый поход.\n",
    "77": "1192 — Установление сёгуната в Японии.\n",
    "78": "1103 — Долобский съезд русских князей и первый совместный поход на половцев.\n",
    "79": "1107 — новый разгром половцев на Руси.\n",
    "80": "1111 — разгром половцев в степях и их откочевка в Грузинское царство.\n",
    "81": "1113 — Вокняжение Владимира Мономаха в Киеве. Киевское восстание народа против старшей дружины.\n",
    "82": "1118 — Окончательная редакция «Повести временных лет».\n",
    "83": "1125 — Смерть Владимира Мономаха и вокняжение в Киеве Мстислава Владимировича.\n",
    "84": "1127 — взятие войсками Мстислава Владимировича Полоцка и высылка полоцких князей в Константинополь.\n",
    "85": "1132 — смерть Мстислава Владимировича и начало распада Киевской Руси.\n",
    "86": "1136 — Восстание в Новгороде. Изгнание князя Всеволода Мстиславича. Утверждение республики в Новгороде.\n",
    "87": "1147 — Первое летописное упоминание Москвы. Убийство в Киеве великого князя Игоря Ольговича.\n",
    "88": "1157 — Смерть в Киеве князя Юрия Долгорукого. Княжение во Владимире суздальском князя Андрея Боголюбского (до 1174).\n",
    "89": "1169 — Войска Андрея Боголюбского захватили и сожгли Киев.\n",
    "90": "1174 — Убийство Андрея Боголюбского в Боголюбове.\n",
    "91": "1176 — Начало княжения во Владимирском княжестве Всеволода Большое Гнездо.\n",
    "92": "1185 — Поход Новгород-Северского князя Игоря Святославича против половцев. «Слово о полку Игореве».\n",
    "93": "1199 — Объединение Волынского и Галицкого княжеств.\n",
    "94": "1202 — Образование Ордена меченосцев.\n",
    "95": "1204 — Разгром Константинополя крестоносцами.\n",
    "96": "1212 — Битва при Лас-Навас-де-Толоса. Решающие успехи Реконкисты.\n",
    "97": "1215 — Под натиском монголов пал Пекин.\n",
    "98": "1258 — Монголы разрушают Багдад.\n",
    "99": "1259 — Парижский мир между Королевством Англия и Королевством Франция.\n",
    "100": "1265 — Начало английского парламента.\n",
    "101": "1266 — Битва при Беневенто.\n",
    "102": "1268 — Захват Антиохии мамлюкским султаном Египта и Сирии Бейбарсом I.\n",
    "103": "1269 — Сооружение гробницы англосаксонского короля Эдуарда Исповедника в Вестминстерском аббатстве.\n",
    "104": "1271 — Начало путешествий Марко Поло в Китай (до 1291 года).\n",
    "105": "1291 — Падение Акры — последнего владения крестоносцев на Ближнем Востоке.\n",
    "106": "1299 — Ликвидация улуса Ногая. Объединение Золотой Орды под властью хана Тохты.\n",
    "107": "1216 — Липицкая битва между сыновьями Всеволода Большое Гнездо.\n",
    "108": "1218 — Постройка Юсуповского собора.\n",
    "109": "1221 — Основание Нижнего Новгорода.\n",
    "110": "1223 — Битва на реке Калке. Монголы под предводительством Субудэя и Джебе наносят поражение объединённому русско-половецкому войску.\n",
    "111": "1237 — Вторжение монгольских войск во главе с Батыем на Русь. Разорение Рязани.\n",
    "112": "1238 — 1 января битва у Коломны, разорение города Коломны Бату-ханом (Батыем), гибель князя Романа, воеводы Еремея Глебовича и военачальника Кюльхана — младшего сына Чингисхана. Разорение монголами городов Северо-Восточной Руси. Поражение великого князя владимирского Юрия Всеволодовича в битве на реке Сити, оборона Козельска.\n",
    "113": "1239 — Вторжение войск Батыя в южнорусские земли. Разорение Переяславля, Чернигова.\n",
    "114": "1240 — Взятие Киева войсками Батыя.\n",
    "115": "1240 — Невская битва. Победа новгородского князя Александра над шведами.\n",
    "116": "1242 — Ледовое побоище. Войско Александра Невского наносит поражение немецким рыцарям.\n",
    "117": "1243 — Батый основывает Золотую Орду.\n",
    "118": "1252 — Неврюева рать, начало великого княжения Александра Невского во Владимире.\n",
    "119": "1250 — Перепись населения Руси, проведённая монголами для сбора дани.\n",
    "120": "1263 — Александр Невский умирает, возвращаясь из Золотой Орды. Ярлык на владимирское великое княжение получает его брат Ярослав Ярославич.\n",
    "121": "1268 — Раковорская битва.\n",
    "122": "1276 — Вокняжение Даниила Александровича в Москве (до 1303).\n",
    "123": "1281—1293 — борьба сыновей Александра Невского за великое княжение.\n",
    "124": "1293 — Поход на Русь хана Дюденя, в результате которого разрушены и сожжены 14 городов северо-востока Руси.\n",
    "125": "1325 — Основание ацтеками города Теночтитлана.\n",
    "126": "1337 — Начало Столетней войны (до 1453).\n",
    "127": "1347—1350 — Эпидемия чумы в Западной Европе.\n",
    "128": "1359—1380 — \"Великая замятня в Золотой Орде\n",
    "129": "1370 — Начало завоевательных походов Тамерлана.\n",
    "130": "1380 — разгром Мамая ханом Тохтамышем. Объединение Золотой Орды.\n",
    "131": "1389 — Битва на Косовом поле. Турки-османы наносят поражение сербской армии.\n",
    "132": "1397 — Кальмарская уния Дании, Швеции и Норвегии.\n",
    "133": "1301—1302 — Присоединение к Москве Коломны, Переяславль-Залесского княжества (временно), Можайска.\n",
    "134": "1325 — Убийство московского князя Юрия Данииловича тверским князем Дмитрием Грозные Очи. Начало княжения в Москве Ивана Калиты (до 1340 года)\n",
    "135": "1327 — Восстание в Твери против золотоордынского баскака Чолхана.\n",
    "136": "1328 — Федочукова рать против Твери, в которой принимает участие Иван Калита. Иван Калита становится великим князем.\n",
    "137": "1340 — Основание Сергием Радонежским Троице-Сергиева монастыря.\n",
    "138": "1352—1353 — Эпидемия чумы.\n",
    "139": "1359 — Начало княжения в Москве Дмитрия Ивановича (в будущем Донского, до 1389).\n",
    "140": "1363 — утверждение Дмитрия Ивановича на великом княжении во Владимире.\n",
    "141": "1367—1369 — Строительство каменного кремля в Москве.\n",
    "142": "1378 — победа русского войска над золотоордынцами в сражении на реке Воже.\n",
    "143": "1380 — Куликовская битва. Победа объединённого русского войска над ордынскими войсками Мамая.\n",
    "144": "1382 — Осада и разорение Москвы и других городов Северо-Восточной Руси ханом Тохтамышем.\n",
    "145": "1382 — Начало чеканки монеты в Москве.\n",
    "146": "1385 — Захват Коломны рязанским князем Олегом.\n",
    "147": "1395 — Разгром Золотой Орды Тамерланом.\n",
    "148": "1410 — Грюнвальдская битва. Разгром польско-литовской армией Тевтонского ордена.\n",
    "149": "1431 — Казнь Жанны д’Арк в Руане.\n",
    "150": "1445 — Изобретение книгопечатания Иоганном Гуттенбергом.\n",
    "151": "1453 — Захват Константинополя турками-османами. Гибель Византийской империи.\n",
    "152": "1455 — В Англии начинается война Алой и Белой роз (до 1485).\n",
    "153": "1492 — Первое плавание Христофора Колумба. Открытие Америки.\n",
    "154": "1498 — Плавание Васко да Гамы к берегам Индии вокруг мыса Доброй Надежды.\n",
    "155": "1408 — Осада Москвы ордынским эмиром Едигеем\n",
    "156": "1425 — Начало междоусобной войны (до 1453)\n",
    "157": "1425 — смерть Василия I. Вокняжение Василия II Тёмного.\n",
    "158": "1433 — княжение в Москве Юрия Дмитриевича Звенигородского\n",
    "159": "1445 — поражение Василия II под Суздалем и его пленение татарами.\n",
    "160": "1446 — ослепление Василия II. Княжение Дмитрия Шемяки.\n",
    "161": "1453 — смерть Дмитрия Шемяки в Новгороде. Окончание феодальных войн.\n",
    "162": "1458 — Окончательное разделение митрополии всея Руси на Киевскую и Московскую\n",
    "163": "1462 — Начало великого княжения Ивана III Васильевича (до 1505)\n",
    "164": "1466 — Путешествие тверского купца Афанасия Никитина в Индию («Хождение за три моря», до 1472)\n",
    "165": "1471 — Первый поход Ивана III на Новгород, Шелонская битва\n",
    "166": "1478 — Падение независимости Великого Новгорода, присоединение его к Москве\n",
    "167": "1480 — «Стояние» на реке Угре, освобождение русских земель от ордынского ига.\n",
    "168": "1483 — Русские впервые перешли за Уральский хребет и дошли до Оби.\n",
    "169": "1485 — Присоединение к Москве Твери.\n",
    "170": "1485 — Начало строительства кирпичных стен и башен Московского Кремля (до 1489)\n",
    "171": "1497 — Принятие Судебника — общерусского свода законов, установление единого срока перехода крестьян (неделя до и неделя после осеннего Юрьева дня)\n",
    "172": "1517 — Начало Реформации в Германии. «95 тезисов» М. Лютера.\n",
    "173": "1519—1522 — Первое кругосветное плавание Ф. Магеллана.\n",
    "174": "1526 — Основана империя Великих Моголов в Индии.\n",
    "175": "1531 — Начало испанского завоевания Перу. Ф. Писсаро.\n",
    "176": "1569 — Объединение Польши и Великого княжества Литовского в Речь Посполитую.\n",
    "177": "1572 — Варфоломеевская ночь в Париже.\n",
    "178": "1588 — Гибель испанской «Непобедимой армады».\n",
    "179": "1500—1503 — Война с Великим княжеством Литовским и Ливонской конфедерации\n",
    "180": "1505 — Смерть Ивана III, начало правления Василия III (правил до 1533)\n",
    "181": "1510 — Присоединение Пскова к Москве\n",
    "182": "1514 — Присоединение Смоленска к Москве\n",
    "183": "1517 — Первое упоминание в летописях о Боярской думе\n",
    "184": "1521 — Присоединение Рязанского княжества к Москве\n",
    "185": "1524 — Строительство Новодевичьего монастыря\n",
    "186": "1533 — Смерть Василия III, начало правления Елены Глинской (правила до 1538).\n",
    "187": "1533 — начало великого княжения Ивана IV Грозного (правил до 1584).\n",
    "188": "1538—1547 — Боярское правление.\n",
    "189": "1547 — Венчание Ивана IV на царство\n",
    "190": "1549 — Созыв первого Земского собора\n",
    "191": "1549—1560 — Реформаторская деятельность «Избранной Рады»\n",
    "192": "1550 — Судебник Ивана IV. Создание стрелецкого войска\n",
    "193": "1551 — Стоглавый собор\n",
    "194": "1552 — Присоединение Казанского ханства\n",
    "195": "1555 — Сибирский хан Едигер признал вассальную зависимость от Москвы.\n",
    "196": "1556 — Присоединение Астраханского ханства\n",
    "197": "1558 — Начало Ливонской войны (до 1583)\n",
    "198": "1562 — взятие Полоцка.\n",
    "199": "1563 — В Сибирском ханстве к власти пришёл хан Кучум, разорвавший отношения с Москвой.\n",
    "200": "1564 — Первая печатная книга Ивана Фёдорова — «Апостол». Разгром русских войск поляками на реке Уле (под Полоцком).\n",
    "201": "1565 — Учреждение опричнины\n",
    "202": "1570 — Новгородский погром и массовые казни в Москве. Пик террора.\n",
    "203": "1571 — сожжение Москвы Девлет-Гиреем I.\n",
    "204": "1572 — Отмена опричнины. Битва при Молодях.\n",
    "205": "1581 — Введение «Заповедных лет». Начало похода Ермака в Сибирь. Осада Пскова Стефаном Баторием.\n",
    "206": "1582 — Ям-Запольский мир с Речью Посполитой.\n",
    "207": "1582—1583 — Поход Ермака в Сибирь.\n",
    "208": "1583 — Плюсское перемирие со Швецией.\n",
    "209": "1584 — Смерть царя Ивана IV, начало фактического правления Бориса Годунова.\n",
    "210": "1591 — Смерть в Угличе царевича Дмитрия\n",
    "211": "1592 — Составление писцовых книг\n",
    "212": "1597 — Введение «урочных лет» (пятилетний срок сыска беглых крестьян)\n",
    "213": "1598 — Смерть царя Фёдора Ивановича. Прекращение династии Рюриковичей. Избрание на царствование Бориса Годунова (до 1605). Начало Смутного времени (до 1613).\n",
    "214": "1607 — Основание первой английской колонии в Северной Америке — Виргинии\n",
    "215": "1618 — Начало Тридцатилетняя война (до 1648)\n",
    "216": "1624 — Кардинал Ришелье — глава королевского совета Франции (до 1642)\n",
    "217": "1641 — Начало Английской революции\n",
    "218": "1644 — В Китае маньчжуры свергают императора из династии Мин. Начало династии Цин (до 1911)\n",
    "219": "1655—1660 — Северная война 1655—1660 (шведский потоп)\n",
    "220": "1688 — «Славная революция» в Англии. Становление парламентской монархии\n",
    "221": "1603 — Восстание Хлопка\n",
    "222": "1605 — Свержение династии Годуновых\n",
    "223": "1606 — Убийство Лжедмитрия I и воцарение Василия Шуйского\n",
    "224": "1606—1607 — Восстание под предводительством Ивана Болотникова\n",
    "225": "1607 — появление Лжедмитрия II\n",
    "226": "1608 — Разгром Лжедмитрием войск Василия Шуйского при Болхове. Тушинский лагерь. Осада Москвы\n",
    "227": "1608—1610 — осада Троице-Сергиева монастыря людьми Лжедмитрия II и польскими интервентами\n",
    "228": "1609 — Начало осады поляками Смоленска\n",
    "229": "1610 — Битва при Клушине. Свержение Василия Шуйского. Семибоярщина. Вступление поляков в Москву.\n",
    "230": "1610 — Гибель Лжедмитрия II\n",
    "231": "1611 — Падение Смоленска, шведская интервенция в Новгородскую землю\n",
    "232": "1612 — Освобождение Москвы от интервентов народным ополчением Минина и Пожарского\n",
    "233": "1613 — Земский собор. Избрание на царство Михаила Романова (правил до 1645). Начало династии Романовых (до 1917)\n",
    "234": "1617 — Столбовский мир со Швецией\n",
    "235": "1618 — Деулинское перемирие с Польшей\n",
    "236": "1632—1634 — Смоленская война. Поляновский мир\n",
    "237": "1645—1676 — Царствование Алексея Михайловича\n",
    "238": "1648 — начало восстания на Украине под предводительством Богдана Хмельницкого.\n",
    "239": "1648 — Восстания в Москве («Соляной бунт»), Воронеже, Курске и других городах\n",
    "240": "1648 — Казак Семён Дежнев открыл пролив, отделяющий Чукотку от Аляски\n",
    "241": "1649 — Соборное уложение. Завершён процесс закрепощения крестьян\n",
    "242": "1654 — Переяславская рада. Начало новой русско-польской войны (до 1667). Возвращение Смоленска\n",
    "243": "1656 — Виленское перемирие. Начало русско-шведской войны (до 1658)\n",
    "244": "1661 — Основание Иркутска\n",
    "245": "1662 — «Медный бунт» в Москве\n",
    "246": "1667 — Андрусовское перемирие с Польшей\n",
    "247": "1668—1676 — Соловецкое восстание\n",
    "248": "1670—1671 — Крестьянско-казацкое восстание под предводительством Степана Разина.\n",
    "249": "1676—1682 — Царствование Фёдора III Алексеевича.\n",
    "250": "1676 год, 19 сентября — капитуляция гетмана Правобережной Украины Петра Дорошенко перед русскими войсками, передача им гетманских регалий Ивану Самойловчу и принесение присяги на верность русскому царю Фёдору III Алексеевичу.\n",
    "251": "1677—1678 — проведение подворной переписи, составление писцовых книг.\n",
    "252": "1678 год, июль — продление русско-польского перемирия. Передача Польше Велижского, Невельского и Себежского уездов в обмен на Киев\n",
    "253": "1677—1681 — Русско-турецкая война\n",
    "254": "1677 год, 3 — 29 августа — Безуспешная осада турецкой армией крепости Чигирин\n",
    "255": "1677 год, 27 — 28 августа — Победа русско-запорожской армии под командованием Ромодановского над крымско-турецкой армией в сражении у Бужина\n",
    "256": "1682 — Хованщина. Начало царствования Петра I и Ивана V при регентстве Софьи\n",
    "257": "1689 — Начало самостоятельного правления Петра I (до 1725)\n",
    "258": "1695, 1696 — Азовские походы\n",
    "259": "1697—1698 — Великое посольство\n",
    "260": "1698 — Стрелецкий бунт в Москве\n",
    "261": "1700—1721 — Северная война\n",
    "262": "1700 год - изменено летоисчисление.\n",
    "263": "1701 — Начало войны «за испанское наследство» (до 1714).\n",
    "264": "1744 — Создание саудовского государства на Аравийском полуострове.\n",
    "265": "1756 — Начало Семилетней войны (до 1763).\n",
    "266": "1757 — Битва при Плесси. Начало завоевания Индии англичанами (завершено в 1849).\n",
    "267": "1770 — Плавание Дж. Кука.\n",
    "268": "1771 — Первая фабрика в Англии.\n",
    "269": "1775 — Начало войны североамериканских колоний Англии за независимость (до 1783).\n",
    "270": "1789 — Начало Великой французской революции. Взятие Бастилии.\n",
    "271": "1793 — Казнь Людовика XVI по решению Конвента..\n",
    "272": "1703 — Основание Санкт-Петербурга. Выход в свет первого номера газеты «Ведомости».\n",
    "273": "1709 — Победа русских войск в Полтавской битве.\n",
    "274": "1711 — Учреждён Сенат. Прутский поход.\n",
    "275": "1712 — Перенесение столицы в Санкт-Петербург.\n",
    "276": "1714 — Победа русского флота в морском сражении при Гангуте.\n",
    "277": "1714 — Указ о единонаследии.\n",
    "278": "1718—1721 — Учреждены коллегии.\n",
    "279": "1720 — Гренгамское сражение\n",
    "280": "1721 — Ништадтский мирный договор России со Швецией.\n",
    "281": "1721 — Провозглашение России Империей.\n",
    "282": "1722 — Принят Табель о рангах.\n",
    "283": "1724 — Указ об учреждении Академии наук в Санкт-Петербурге.\n",
    "284": "1725 — Смерть Петра I.\n",
    "285": "1725—1727 — Правление Екатерины I.\n",
    "286": "1727—1730 — Правление Петра II.\n",
    "287": "1730 — Начало правления Анны Иоанновны (до 1740).\n",
    "288": "1732 — открылся Сухопутный шляхетский корпус, главное высшее военно-учебное заведение в России.\n",
    "289": "1733 — Вторая Камчатская экспедиция Витуса Беринга (до 1743).\n",
    "290": "1733 — начало Войны за польское наследство.\n",
    "291": "1735 — начало Русско-турецкой войны 1735—1739 годов.\n",
    "292": "1736 — Азов окончательно присоединен к России.\n",
    "293": "1739 — Сражение под Ставучанами. Первая победа России над Турцией в полевом сражении.\n",
    "294": "1740 — начало правления Ивана VI (до декабря 1741).\n",
    "295": "1741 — начало Русско-шведской войны 1741—1743 годов\n",
    "296": "1741 — начало царствования Елизаветы Петровны (до 1761).\n",
    "297": "1755 — Основание Московского университета.\n",
    "298": "1756 — начало Семилетней войны.\n",
    "299": "1759 — Битва при Кунерсдорфе. Победа русских войск.\n",
    "300": "1761 — Императором становится Пётр III (до 1762).\n",
    "301": "1762 — Манифест о вольности дворянства. Начало царствования Екатерины II (до 1796)\n",
    "302": "1764 — Секуляризация церковных и монастырских земель. Отмена гетманства на Украине.\n",
    "303": "1765 — Указ о праве помещиков ссылать крепостных крестьян в Сибирь. Создание Вольного экономического общества.\n",
    "304": "1767 — Созвана уложенная комиссия (до 1768).\n",
    "305": "1768 — Начало войны с Барской конфедерацией (до 1772). Начало русско-турецкой войны (до 1774).\n",
    "306": "1769 — Выпуск ассигнаций (первых в России бумажных денег).\n",
    "307": "1770 — Разгром турецкого флота в Чесменской бухте. Победы при Ларге и Кагуле.\n",
    "308": "1772 — Первый раздел Речи Посполитой (совместно с Пруссией и Австрией). Присоединение Восточной Беларуси и части Латвии.\n",
    "309": "1773—1775 — Крестьянская война под предводительством Емельяна Пугачёва.\n",
    "310": "1775 — ликвидация Запорожской Сечи\n",
    "311": "1775 — Российская империя разделена на 51 губернию.\n",
    "312": "1783 — Манифест Екатерины II о присоединении Крыма к России. «Георгиевский трактат» о добровольном принятии Восточной Грузии под покровительство России.\n",
    "313": "1787 — Начало русско-турецкой войны (до 1791).\n",
    "314": "1790 — Взятие русскими войсками крепости Измаил.\n",
    "315": "1792 — интервенция России в Польше.\n",
    "316": "1793 — Второй раздел Речи Посполитой (совместно с Пруссией). Присоединение Центральной Беларуси и части Правобережной Украины.\n",
    "317": "1794 — восстание Костюшко и его подавление.\n",
    "318": "1795 — Третий раздел Речи Посполитой (совместно с Пруссией и Австрией). Присоединение Западной Беларуси, Литвы и Волыни.\n",
    "319": "1796 — Начало царствования Павла I (до 1801).\n",
    "320": "1799 — Итальянский и швейцарский походы Александра Суворова.\n",
    "321": "1804 — Наполеон I провозглашён императором французов.\n",
    "322": "1805 — Трафальгарское сражение.\n",
    "323": "1811 — Провозглашение независимости Венесуэлы.\n",
    "324": "1815 — Битва при Ватерлоо.\n",
    "325": "1848 — «Золотая лихорадка» не в Калифорнии. Серия революционных выступлений в Европе.\n",
    "326": "1856 — Вторая опиумная война Великобритании и Китая.\n",
    "327": "1860 — Экспедиция «Тысячи» Дж. Гарибальди.\n",
    "328": "1801 — Убит Павел I. Начало правления Александра I (до 1825).\n",
    "329": "1801 — Присоединение Грузии к России.\n",
    "330": "1802 — Учреждение министерств в России.\n",
    "331": "1803 — Указ о вольных хлебопашцах.\n",
    "332": "1805 — Битва при Аустерлице.\n",
    "333": "1806 — начало новой русско-турецкой войны (до 1812).\n",
    "334": "1807 — Встреча Александра I и Наполеона в Тильзите. Тильзитский мир.\n",
    "335": "1808—1809 — Русско-шведская война.\n",
    "336": "1809 — Проект реформ Сперанского. Присоединение Финляндии к России.\n",
    "337": "1810 — Учреждение Государственного совета.\n",
    "338": "1811 — Открытие Царскосельского лицея.\n",
    "339": "1812 — Отечественная война 1812 года. Бородинское сражение.\n",
    "340": "1813 — Заграничный поход русской армии. Гюлистанский мир c Персией.\n",
    "341": "1814 — взятие Парижа.\n",
    "342": "1817 — Начало Кавказской войны (до 1864).\n",
    "343": "1825 — Восшествие на престол Николая I (до 1855). Восстание декабристов.\n",
    "344": "1826—1828 — русско-персидская война. Присоединение Нахичевани и Эривани.\n",
    "345": "1828—1829 — русско-турецкая война.\n",
    "346": "1830 — Польское восстание.\n",
    "347": "1832 — Кодификация законов\n",
    "348": "1835 — Сокращение автономии университетов.\n",
    "349": "1837—1841 — Реформа Киселёва по управлению государственными крестьянами.\n",
    "350": "1849 — Участие России в подавлении революции в Венгрии.\n",
    "351": "1851 — Открытие железнодорожного сообщения между Петербургом и Москвой.\n",
    "352": "1853—1856 — Крымская война (закончилась с подписанием Парижского мирного договора).\n",
    "353": "1854—1855 — Оборона Севастополя.\n",
    "354": "1855 — Начало правления Александра II (до 1881).\n",
    "355": "1858 — Присоединение Амурского региона. Айгунский договор с Китаем.\n",
    "356": "1861—1865 — Гражданская война в США.\n",
    "357": "1863 — Отмена рабства в США.\n",
    "358": "1869 — Открытие Суэцкого канала.\n",
    "359": "1870 — Завершение объединения Италии.\n",
    "360": "1871 — Завершение объединения Германии. Парижская коммуна.\n",
    "361": "1874 — Восстание самураев в Японии (до 1877).\n",
    "362": "1885 — Создание партии Индийский национальный конгресс.\n",
    "363": "1899 — Начало англо-бурской войны (до 1902).\n",
    "364": "1899 — Начало боксёрского восстания в Китае (до 1900).\n",
    "365": "1861 — Манифест об отмене крепостного права.\n",
    "366": "1862 — Начало великих реформ.\n",
    "367": "1863 — Польское восстание. Экспедиция русского флота к берегам Северной Америки (1863–1864)\n",
    "368": "1864 — Начало судебной реформы. Учреждение земств. Принят Университетский устав, восстановлена автономия университетов.\n",
    "369": "1865 — Цензурная реформа.\n",
    "370": "1865—1873 — Присоединение центральноазиатских государств: Хивинское ханство, Кокандское ханство, Бухарское ханство.\n",
    "371": "1867 — Россия продаёт Аляску США.\n",
    "372": "1870 — «Городовое положение».\n",
    "373": "1874 — Переход к всеобщей воинской повинности. «Хождение в народ».\n",
    "374": "1877—1878 — Русско-турецкая война. Берлинский конгресс.\n",
    "375": "1878 — Процесс над Верой Засулич\n",
    "376": "1881 — Убийство народовольцами Александра II. Начало царствования Александра III (до 1894).\n",
    "377": "1884 — Отмена автономии университетов.\n",
    "378": "1889 — Матч за звание чемпиона мира по шахматам между американским обладателем чемпионского звания Вильгельмом Стейницем и русским претендентом на чемпионское звание Михаилом Чигориным . Победа первого обладателя чемпионского звания Вильгельма Стейница .\n",
    "379": "1891 — Начало строительства Транссибирской железнодорожной магистрали (до 1902).\n",
    "380": "1894 — Восшествие на престол Николая II (до 1917).\n",
    "381": "1896 — Ходынская катастрофа.\n",
    "382": "1897 — Первая всероссийская перепись населения. Денежная реформа Витте.\n",
    "383": "1898 — I съезд Российской социал-демократической рабочей партии (РСДРП).\n",
    "384": "1892 — Второй матч за звание чемпиона мира по шахматам между американским обладателем чемпионского звания Вильгельмом Стейницем и русским претендентом на чемпионское звание Михаилом Чигориным . Победа первого обладателя чемпионского звания Вильгельма Стейница .\n",
    "385": "1910 — Начало Революции в Мексике.\n",
    "386": "1910 — Аннексия Кореи Японией.\n",
    "387": "1911—1912 Синьхайская революция в Китае. Падение империи Цин и монархии.\n",
    "388": "1914 — убийство в Сараеве австрийского эрцгерцога Франца-Фердинанда сербским патриотом Гаврилой Принципом, ставшее поводом для Первой Мировой войны\n",
    "389": "1919 — Создана Лига Наций.\n",
    "390": "1922 — Приход фашистов к власти в Италии. Б. Муссолини формирует правительство.\n",
    "391": "1923 — Провозглашена Турецкая республика.\n",
    "392": "1929 — Мировой экономический кризис (до 1933).\n",
    "393": "1933 — Приход Гитлера к власти в Германии.\n",
    "394": "1936 — Начало гражданской войны в Испании. Нападение Италии на Эфиопию.\n",
    "395": "1938 — Аншлюс Австрии, Мюнхенский сговор.\n",
    "396": "1939 — Нападение Германии на Польшу. Начало Второй мировой войны.\n",
    "397": "1940 — Битва за Англию\n",
    "398": "1941 — Нападение Японии на США. Перл-Харбор.\n",
    "399": "1943 — Падение фашистской диктатуры в Италии.\n",
    "400": "1944 — Высадка союзников в Нормандии.\n",
    "401": "1945 — Атомные бомбы были сброшены американцами на японские города Хиросима (6 августа) и Нагасаки (9 августа)\n",
    "402": "1945—1946 — Нюрнбергский процесс.\n",
    "403": "1946 — Фултонская речь У. Черчилля. Начало «Холодной войны».\n",
    "404": "1902 — Создание партии эсеров.\n",
    "405": "1903 — II съезд РСДРП. Раскол на «большевиков» и «меньшевиков».\n",
    "406": "1904 — Начало русско-японской войны.\n",
    "407": "1905 — Создание партий кадетов, октябристов. 9 (22) января Кровавое воскресенье. Первая российская революция (до 1907).\n",
    "408": "1906 — Деятельность Государственной думы. Начало аграрной реформы Столыпина.\n",
    "409": "1907 — Новый избирательный закон, начало работы III Государственной думы (до 1912)\n",
    "410": "1909 — Матч за звание чемпиона мира по шахматам между германским обладателем чемпионского звания и вторым чемпионом в истории шахмат Эмануэлем Ласкером и русским претендентом на чемпионское звание Давид Маркелович Яновский. Победа обладателя Эмануэля Ласкера.\n",
    "411": "1914 — Вступление России в Первую мировую войну.\n",
    "412": "1916 — Брусиловский прорыв.\n",
    "413": "1917 — Февральская революция. Отречение Николая II от престола. Временное правительство. Октябрьская революция. Начало Гражданской войны (до 1922—1923).\n",
    "414": "1918 — Разгон Учредительного собрания. Брестский мир.\n",
    "415": "1919—1921 — Советско-польская война\n",
    "416": "1921 — Переход к Новой экономической политике.\n",
    "417": "1922 — Образование Союза Советских Социалистических Республик.\n",
    "418": "1924 — Смерть В. И. Ленина. Принятие Первой Конституции СССР.\n",
    "419": "1928 — Первая пятилетка (до 1932). Индустриализация.\n",
    "420": "1929 — Начало сплошной коллективизации.\n",
    "421": "1932—1933 — Голод в СССР.\n",
    "422": "1936 — Принята сталинская Конституция СССР.\n",
    "423": "1939 — Советско-германский пакт о ненападении. Советско-финская война (до 1940).\n",
    "424": "1941 — Начало Великой Отечественной войны. Битва за Москву.\n",
    "425": "1941—1944 — Блокада Ленинграда.\n",
    "426": "1942 — Сталинградская битва.\n",
    "427": "1943 — Курская битва. Тегеранская конференция.\n",
    "428": "1944 — операция «Багратион» — освобождение Белоруссии от нацистов.\n",
    "429": "1943—1944 — Массовая депортация народов Северного Кавказа и Крыма.\n",
    "430": "1945 — Ялтинская конференция. Победоносное завершение Великой Отечественной войны. Советско-японская война.\n",
    "431": "1947 — Принят план Маршалла по восстановлению Европы.\n",
    "432": "1947 — Провозглашение независимости Индии и Пакистана.\n",
    "433": "1948 — Провозглашение государства Израиль. Первая арабо-израильская война.\n",
    "434": "1948 — Разделение Кореи по 38-й параллели.\n",
    "435": "1949 — Провозглашение Китайской Народной Республики.\n",
    "436": "1949 — Образование НАТО.\n",
    "437": "1959 — Кубинская революция.\n",
    "438": "1961 — Возведение Берлинской стены.\n",
    "439": "1967 — Шестидневная война.\n",
    "440": "1964 — война во Вьетнаме (до 1973).\n",
    "441": "1969 — Первый полёт человека на Луну.\n",
    "442": "1979 — Исламская революция в Иране.\n",
    "443": "1980 — Образование профсоюза «Солидарность» в Польше.\n",
    "444": "1990 — Вторжение Ирака в Кувейт. Операция «Буря в пустыне».\n",
    "445": "1991 — Распад Югославии.\n",
    "446": "1946 — Начало холодной войны.\n",
    "447": "1949 — 29 августа произошло успешное испытание атомной бомбы на Семипалатинском полигоне. Начало «борьбы с космополитизмом».\n",
    "448": "1953 — Смерть Сталина. Фактическим руководителем СССР становится Г. М. Маленков, занявший пост председателя Совета Министров СССР. Испытание первой советской водородной бомбы.\n",
    "449": "1954 — Начало освоения целинных земель.\n",
    "450": "1955 — Смещение Маленкова, власть переходит к первому секретарю ЦК КПСС Н. С. Хрущёву. Подписание Варшавского договора.\n",
    "451": "1956 — XX съезд КПСС. Доклад Хрущёва «О культе личности и его последствиях». Советские войска введены в Венгрию. Реабилитация репрессированных.\n",
    "452": "1957 — Запуск первого в мире искусственного спутника (Спутник-1).\n",
    "453": "1961 — Космический полёт Ю. А. Гагарина.\n",
    "454": "1962 — Карибский кризис.\n",
    "455": "1964 — Отстранение Н. С. Хрущёва от власти. Руководителем страны становится Л. И. Брежнев.\n",
    "456": "1965 — Экономическая реформа управления народным хозяйством и планирования в СССР под руководством А. Н. Косыгина.\n",
    "457": "1968 — Участие СССР в подавлении Пражской весны.\n",
    "458": "1972 — Договоры об ограничении системы противоракетной обороны и стратегических наступательных вооружений.\n",
    "459": "1972 — Матч за звание чемпиона мира по шахматам между действовавшим русским чемпионом мира по шахматам Борисом Васильевичем Спасским и американским претендентом Робертом Джеймсом Фишером, в котором победил последний.\n",
    "460": "1977 — Принятие брежневской Конституции СССР.\n",
    "461": "1979 — Начало Афганской войны, которая закончилась в 1989 году.\n",
    "462": "1982—1985 — смерть Л. И. Брежнева, смена власти в СССР. В течение четырёх лет сменилось два руководителя (Андропов и Черненко пробыли на посту генерального секретаря партии год и три месяца и триста восемьдесят дней соответственно)\n",
    "463": "1985 — Генеральным секретарём ЦК КПСС избран М. С. Горбачёв. Начало перестройки.\n",
    "464": "1986 — Крупнейшая техногенная катастрофа на Чернобыльской АЭС на Украине.\n",
    "465": "1991 — Избрание Б. Н. Ельцина президентом РСФСР. Образование ГКЧП. Провал попытки путча. Распад СССР. Конец холодной войны.\n",
    "466": "1992 — Начало либеральных экономических реформ. Начало приватизации.\n",
    "467": "1993 — Конституционный кризис, нападение сторонников распущенного Верховного Совета на здание мэрии Москвы и телецентр Останкино. Расстрел Российского парламента. Принятие всенародным голосованием Конституции Российской Федерации.\n",
    "468": "1994—1996 — Война в Чечне.\n",
    "469": "1996 — Б. Н. Ельцин вновь избран Президентом РФ.\n",
    "470": "1998 — Дефолт в России.\n",
    "471": "1999 — Вторжение боевиков в Дагестан, начало Второй чеченской кампании, серия террористических актов в российских городах (Буйнакске, Москве и Волгодонске) — взрывы жилых домов, отставка Б. Н. Ельцина, назначение исполняющим обязанности Президента РФ Председателя Правительства РФ В. В. Путина.\n",
    "472": "2000 — Президентом РФ избран В. В. Путин. Создание федеральных округов в РФ. Катастрофа АПЛ «Курск». Пожар на Останкинской телебашне в Москве.\n",
    "473": "2001 — террористический акт группировки «Аль-Каида» — атака на Всемирный Торговый центр в Нью-Йорке.\n",
    "474": "2003 — Вторжение войск международной коалиции (основные участники — США и Великобритания) в Ирак.\n",
    "475": "2008 — Мировой финансовый кризис.\n",
    "476": "2001 — Затопление орбитальной станции «Мир», последней отечественной орбитальной станции.\n",
    "477": "2002 — Захват заложников в театральном центре на Дубровке в Москве, совершённый чеченскими террористами. На посту главы Банка России Виктора Геращенко сменил Сергей Игнатьев.\n",
    "478": "2003 — Чуйское землетрясение 27 сентября 2003 года. Выборы в Государственную Думу IV созыва.\n",
    "479": "2004 — Избрание Владимира Путина на второй срок. Террористический акт чеченских террористов на самолётах Ту-134 и Ту-154. Захват заложников в Беслане (Северная Осетия), совершённый чеченскими террористами. Отмена выборов глав регионов (последние после отмены выборы состоялись в Ненецком автономном округе в 2005 году). Председателем правительства утвержден Михаил Фрадков.\n",
    "480": "2005 — Нападение боевиков на город Нальчик (Кабардино-Балкария). Первое в истории Российской Федерации объединение регионов — Пермская область и Коми-Пермяцкий автономный округ объединились в Пермский край.\n",
    "481": "2006 — 32-й саммит G8 в Санкт-Петербурге. В России введена в оборот банкнота Банка России достоинством в 5000 рублей.\n",
    "482": "2007 — Письмо десяти академиков. Взрыв на угольной шахте «Ульяновская» в Кемеровской области 19 марта 2007 года. В результате объединения регионов сформированы новые субъекты РФ — Красноярский (за счёт присоединения к Красноярскому краю Таймырского (Долгано-Ненецкого) и Эвенкийского автономных округов) и Камчатский (за счёт объединения Камчатской области и Корякского автономного округа) края. Председателем правительства утвержден Виктор Зубков. Выборы в Государственную думу V созыва.\n",
    "483": "2008 — Президентом РФ избран Д. А. Медведев. Председателем правительства утвержден Владимир Путин. Война в Южной Осетии. Вступление в силу поправок к Конституции РФ. В результате объединения регионов сформированы новые субъекты РФ — Иркутская область (за счёт присоединения к Иркутской области Усть-Ордынского Бурятского автономного округа) и Забайкальский край (за счёт объединения Читинской области и Агинского Бурятского автономного округа).\n",
    "484": "2009 — Конкурс песни «Евровидение 2009» в Москве. Завершение Второй чеченской кампании. Авария на Саяно-Шушенской ГЭС 17 августа 2009 года. Пожар в клубе «Хромая лошадь» 5 декабря 2009 года.\n",
    "485": "2010 — Вступил в силу Таможенный союз России, Белоруссии и Казахстана.\n",
    "486": "2011 — Выборы в Государственную Думу VI созыва.\n",
    "487": "2012 — Четвёртым Президентом РФ избран Владимир Путин. Председателем правительства утвержден Дмитрий Медведев. Массовые акции протеста в Москве. Вступление России в ВТО. Возобновление выборов глав регионов. Проект 5-100. Саммит АТЭС во Владивостоке.\n",
    "488": "2013 — Теракты 21 октября, 29 и 30 декабря в Волгограде. Сильнейшее за 115 лет наводнение на Дальнем Востоке. Падение метеорита на Урале. Летняя Универсиада 2013 в Казани. На посту главы Банка России утверждена Эльвира Набиуллина.\n",
    "489": "2014 — С 7 по 23 февраля 2014 года в городе Сочи были проведены XXII Зимние Олимпийские игры. Подписание договора между Российской Федерацией и Республикой Крым о принятии Республики Крым в состав России.\n",
    "490": "2015 — Создание Евразийского экономического союза. Военная операция России в Сирии. Катастрофа A321 над Синайским полуостровом. Турецкий самолёт сбил российский Су-24.\n",
    "491": "2016 — Первый ракетный пуск с космодрома «Восточный», первого постсоветского гражданского космодрома России. Выборы в Государственную Думу VII созыва. Дело Алексея Улюкаева — первое в истории постсоветской России уголовное дело против действующего (на момент задержания) члена Правительства РФ. В Анкаре убит посол России в Турции Андрей Карлов.\n",
    "492": "2017 — Кубок конфедераций 2017 в России. Ураган в Москве и Московской области. В России введены в обращение банкноты Банка России в 200 и 2000 рублей.\n",
    "493": "2018 — Избрание 4-го Президента РФ Владимира Путина на второй срок (суммарно — четвёртый). Пожар в торгово-развлекательном центре «Зимняя вишня» в Кемерово 25-26 марта 2018 года. Открытие автомобильной части Крымского моста. Чемпионат мира по футболу 2018 года в России. Массовое убийство в Керченском политехническом колледже. Пенсионная реформа в России (2019—2028).\n",
    "494": "2019 — Увеличение основной ставки НДС до 20 %. Переход с аналогового телевещания на цифровое.\n"
  }
}


def get_text(num):
    txt = data
    print(txt)
    if num >= 0 and num <= 494:
        return txt['history'][str(num)]
    else:
        if num < 0:
            return txt['history']['0']
        else:
            return txt['history']['494']


app = Flask(__name__)

logging.basicConfig(level=logging.INFO)

sessionStorage = {}

text = 'Привет! Здесь ты можешь услышать историю России с 839 года до 2019 года. Начнем?'

help = 'И снова здравствуй! Ниже указан список всех команд.'
what_i_can = 'Я могу показать историю России с 839 года до 2019 года.'


@app.route('/', methods=['POST'])
def main():
    logging.info('Request: %r', request.json)
    response = {
        'session': request.json['session'],
        'version': request.json['version'],
        'response': {
            'end_session': False
        }
    }
    handle_dialog(request.json, response)

    logging.info('Response: %r', request.json)

    return json.dumps(response)


def handle_dialog(req, res):
    user_id = req['session']['user_id']

    if req['session']['new']:
        sessionStorage[user_id] = {
            'number': -1,
            'start': False
        }
        # Заполняем текст ответа
        res['response']['text'] = text
        res['response']['buttons'] = get_suggests('start')
        return

    if not sessionStorage[user_id]['start'] and req['request']['original_utterance'].lower() in ['да', 'давай']:
        res['response']['text'] = 'Чтобы начать скажите : "Хочу окунуться в историю России"'
        res['response']['buttons'] = get_suggests('first')
        sessionStorage[user_id]['start'] = True
        return
    elif not sessionStorage[user_id]['start'] and req['request']['original_utterance'].lower() in ['нет', 'не хочу']:
        res['response']['text'] = 'Ну раз так, то пока) '
        res['response']['end_session'] = False
        return
    elif 'окунуться в историю' in req['request']['original_utterance'].lower() and sessionStorage[user_id]['start']:
        res['response']['text'] = get_text(sessionStorage[user_id]['number'])
        sessionStorage[user_id]['number'] += 1
        res['response']['buttons'] = get_suggests()
        print(res['response']['text'])
        return
    elif req['request']['original_utterance'].lower() == 'далее' and sessionStorage[user_id]['number'] >= 0:
        res['response']['text'] = get_text(sessionStorage[user_id]['number'])
        sessionStorage[user_id]['number'] += 1
        res['response']['buttons'] = get_suggests()
        print(res['response']['text'])
        return
    elif req['request']['original_utterance'].lower() in ['пропустить 5 событий', 'пропустить пять событий']:
        sessionStorage[user_id]['number'] += 5
        res['response']['buttons'] = get_suggests()
        res['response']['text'] = get_text(sessionStorage[user_id]['number'])
        return
    elif req['request']['original_utterance'].lower() in ['пропустить 20 событий', 'пропустить двадцать событий']:
        sessionStorage[user_id]['number'] += 20
        res['response']['buttons'] = get_suggests()
        res['response']['text'] = get_text(sessionStorage[user_id]['number'])
        return
    elif req['request']['original_utterance'].lower() in ['пропустить 100 событий', 'пропустить сто событий']:
        sessionStorage[user_id]['number'] += 100
        res['response']['buttons'] = get_suggests()
        res['response']['text'] = get_text(sessionStorage[user_id]['number'])
        return
    elif req['request']['original_utterance'].lower() in ['вернуться на 5 событий назад',
                                                          'вернуться на пять событий назад']:
        sessionStorage[user_id]['number'] -= 5
        res['response']['buttons'] = get_suggests()
        res['response']['text'] = get_text(sessionStorage[user_id]['number'])
        return
    elif req['request']['original_utterance'].lower() in ['вернуться на 20 событий назад',
                                                          'вернуться на 20 событий назад']:
        sessionStorage[user_id]['number'] -= 20
        res['response']['buttons'] = get_suggests()
        res['response']['text'] = get_text(sessionStorage[user_id]['number'])
        return
    elif req['request']['original_utterance'].lower() in ['вернуться на 100 событий назад',
                                                          'вернуться на сто событий назад']:
        sessionStorage[user_id]['number'] -= 100
        res['response']['buttons'] = get_suggests()
        res['response']['text'] = get_text(sessionStorage[user_id]['number'])
        return

    elif req['request']['original_utterance'].lower() in ['помощь']:
        res['response']['buttons'] = get_suggests()
        res['response']['text'] = help
        return
    elif req['request']['original_utterance'].lower() in ['что я могу']:
        res['response']['buttons'] = get_suggests()
        res['response']['text'] = what_i_can
        return

        # Если нет, то убеждаем его купить слона!
    res['response']['text'] = 'я не понимаю данной команды'


def get_suggests(key_word='standart'):
    if key_word == 'standart':
        buttons = [{'title': 'Далее', 'hide': False},
                   {'title': 'Пропустить 5 событий', 'hide': False},
                   {'title': 'Пропустить 20 событий', 'hide': False},
                   {'title': 'Пропустить 100 событий', 'hide': False},
                   {'title': 'Вернуться на 5 событий назад', 'hide': False},
                   {'title': 'Вернуться на 20 событий назад', 'hide': False},
                   {'title': 'Вернуться на 100 событий назад', 'hide': False},
                   {'title': 'Помощь', 'hide': False},
                   {'title': 'Что я могу', 'hide': False}]
    elif key_word == 'start':
        buttons = [{'title': 'Да', 'hide': True},
                   {'title': 'Нет', 'hide': True}
                   ]
    elif key_word == 'first':
        buttons = [{'title': 'Хочу окунуться в историю России!', 'hide': True}
                   ]

    return buttons
